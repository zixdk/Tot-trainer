<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ToT Raid Trainer</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#0b1020;color:white;text-align:center}
.container{max-width:700px;margin:auto;padding:20px}
button,select{width:100%;padding:14px;margin:10px 0;font-size:17px;border-radius:8px;border:0;background:#243b75;color:white}
button:hover{background:#3457a0}
.correct{background:#1f7a3f!important}
.wrong{background:#7a1f1f!important}
.hidden{display:none}
h1{color:#00c8ff}
.small{font-size:13px;color:#aaa}
</style>
</head>
<body>

<div class="container">
<h1>THRONE OF THUNDER TRAINER</h1>
<p class="small">Raid brains only.</p>

<div id="menu">
<select id="bossSelect">
<option value="ALL">FULL RAID (ALL BOSSES)</option>
<option>Jin'rokh</option><option>Horridon</option><option>Council</option>
<option>Tortos</option><option>Megaera</option><option>Ji-Kun</option>
<option>Durumu</option><option>Primordius</option><option>Dark Animus</option>
<option>Iron Qon</option><option>Twin Consorts</option><option>Lei Shen</option>
<option>Ra-den</option>
</select>
<button onclick="startGame()">START</button>
</div>

<div id="quiz" class="hidden">
<h2 id="boss"></h2>
<h3 id="question"></h3>
<div id="answers"></div>
</div>

<div id="result" class="hidden">
<h2 id="score"></h2>
<button onclick="location.reload()">RETRY</button>
</div>
</div>

<script>
const RAW = [
// JIN
["Jin'rokh","When leave puddle?","When storm starts","Never","Instant","Low HP only"],
["Jin'rokh","Focused Lightning goesâ€¦","To wall","Into raid","To puddle","Tank"],
["Jin'rokh","Orb hits puddleâ€¦","Explodes","Buff","Heal","Nothing"],

// HORRIDON
["Horridon","Main target?","Adds","Boss","Tail","Random"],
["Horridon","Dino-Mending?","Interrupt","Run","Heal","Ignore"],
["Horridon","Safe position?","Side","Tail","Head","Middle"],

// COUNCIL
["Council","Possessed looksâ€¦","Big & dark","Blue","Red","Small"],
["Council","Kazra'jin reflect?","Stop if low","Nuke","Stack","Ignore"],
["Council","Frostbite meansâ€¦","Move away","Stack","AFK","Jump"],

// TORTOS
["Tortos","Stop breath?","Kick turtle","Heal","Run","Taunt"],
["Tortos","Rockfall safety?","No blue","Blue","Under","Anywhere"],
["Tortos","Kill turtles where?","Near boss","Far","Behind","Random"],

// MEGAERA
["Megaera","Cinders rule?","Run then dispel","Dispel fast","Ignore","Stack"],
["Megaera","Rampage =","Stack","Spread","AFK","Run"],
["Megaera","Kill target?","Skull","Closest","Random","Green"],

// JI-KUN
["Ji-Kun","Down Draft?","Run to boss","Run away","Jump","AFK"],
["Ji-Kun","Nest job?","Kill eggs","AFK","Boss DPS","Heal"],
["Ji-Kun","Green goo?","Avoid","Stack","Stand","Ignore"],

// DURUMU
["Durumu","Maze killer?","Fog","Adds","Laser","Boss"],
["Durumu","Red beam?","Reveal fogs","AFK","Buff","Heal"],
["Durumu","Maze path?","Safe gap","Middle","Spin","Jump"],

// PRIMORDIUS
["Primordius","Best stacks?","5","3","10","2"],
["Primordius","6+ stacks?","Bad slime","Buff","Nothing","Heal"],
["Primordius","Priority?","Blobs first","Boss","Tank","Adds"],

// DARK ANIMUS
["Dark Animus","Main rule?","Single target","AOE","Ignore","Pull boss"],
["Dark Animus","Too many deaths?","Anima chaos","Heal","Nothing","Buff"],
["Dark Animus","Boss at 100?","Wipe","Fun","Boost","Sleep"],

// IRON QON
["Iron Qon","Fire phase?","Spread","Stack","Hide","Jump"],
["Iron Qon","Ice casters?","Stop casting","Nuke","Blink","Run"],
["Iron Qon","Wind phase?","Stack safe","Spread","Ignore","AFK"],

// TWINS
["Twin Consorts","Inferno safety?","Comet","Stack","Heal","Jump"],
["Twin Consorts","Destroy comet?","No","Yes","Later","Ignore"],
["Twin Consorts","Dark danger?","Sleep clouds","Fire","Ice","Wind"],

// LEI SHEN
["Lei Shen","Transition?","Corners","Boss","Middle","Jump"],
["Lei Shen","Static Shock?","Stack","Run","Jump","Ignore"],
["Lei Shen","Helm push?","Run against","Let go","Jump","Heal"],

// RADEN
["Ra-den","Vita rule?","Rotation","Random","Ignore","Stack"],
["Ra-den","Red orb?","Kill","Tank","Ignore","Buff"],
["Ra-den","Wrong jump?","Wipe","Buff","Heal","Nothing"]
];

let ALL = [];
RAW.forEach(q=>{
let opts = q.slice(2);
let correct = q[2];
shuffle(opts);
ALL.push({b:q[0],q:q[1],a:opts,c:opts.indexOf(correct)});
});

let test=[],i=0,score=0;

function startGame(){
let sel=document.getElementById("bossSelect").value;
test = sel==="ALL"? [...ALL]: ALL.filter(q=>q.b==sel);
shuffle(test);
test = limitBossRepeats(test);
i=0;score=0;
document.getElementById("menu").classList.add("hidden");
document.getElementById("quiz").classList.remove("hidden");
load();
}

function load(){
let q=test[i];
document.getElementById("boss").innerText="ðŸ›‘ "+q.b;
document.getElementById("question").innerText=q.q;
let box=document.getElementById("answers");
box.innerHTML="";
q.a.forEach((x,n)=>{
let b=document.createElement("button");
b.innerText=x;
b.onclick=()=>pick(n,b);
box.appendChild(b);
});
}

function pick(n,b){
let q=test[i];
let btns=document.querySelectorAll("#answers button");
btns.forEach(x=>x.disabled=true);
if(n===q.c){b.classList.add("correct");score++}
else{b.classList.add("wrong");btns[q.c].classList.add("correct")}
setTimeout(next,700);
}

function next(){
i++;
if(i>=test.length){
document.getElementById("quiz").classList.add("hidden");
document.getElementById("result").classList.remove("hidden");
document.getElementById("score").innerText="Score: "+score+" / "+test.length;
}else load();
}

function shuffle(a){
for(let i=a.length-1;i>0;i--){
let j=Math.floor(Math.random()*(i+1));
[a[i],a[j]]=[a[j],a[i]];
}
}

function limitBossRepeats(arr){
for(let i=2;i<arr.length;i++){
if(arr[i].b===arr[i-1].b && arr[i].b===arr[i-2].b){
for(let j=i+1;j<arr.length;j++){
if(arr[j].b!==arr[i].b){
[arr[i],arr[j]]=[arr[j],arr[i]];
break;
}
}
}
}
return arr;
}
</script>

</body>
</html>
